<!doctype html>
<html lang="en">
	<head>
		<title>Stylist - Live CSS editor bookmarklet</title>
		<style type="text/css">
			html, body { background-color: #fcfcfc; height: 100%;}
			.container { width: 70%; margin: 0 auto; background-color: white; color: #555; height: 100%; padding: 0 12px 0 12px;}
			h1, h2 { text-align: left;}
			p { font-family: Helvetica, Arial, sans-serif;}

		</style>
	</head>
	<body id="stylist">
		<div class="container">
			<img src="logo.png" alt="Stylist logo"/>
			<h1>Stylist</h1>
			<p>Add and edit live CSS to any page in any modern browser.. and have the changes persist everytime you run the bookmarklet on the page.</p>
			<p>You may want a different look to a page that you regularly visit or help you style a page that you are developing.</p>
			<p>Simply copy the link below as a bookmark - click the bookmark on the page you wish to change...</p>
			<p><a href='javascript:(function(a,b,c){function d(a,b){return function d(){if(!d.timer){var e=arguments,f=this;d.timer=setTimeout(function(){a.apply(f,e),d.timer=c},b)}}}function e(a,b,c){for(var d,e=b.split(";"),f=0,g=e.length;g>f;f++)d=e[f].split(":"),c?a.style.removeProperty(d[0]):a.style.setProperty(d[0],d[1],"important")}function f(a,c){var d=b.createElement("li");e(d,"color:#555;display:block"),d.appendChild(b.createTextNode(c)),a.appendChild(d)}function g(){function c(){switch(A){case"B":e(w,"top:0;right:0;height:100%;width:300px",!0),e(w,"bottom:0;left:0;height:300px;width:100%;",!1),A="L";break;case"L":e(w,"bottom:0;left:0;height:300px;width:100%;",!0),e(w,"top:0;left:0;height:100%;width:300px",!1),A="T";break;case"T":e(w,"top:0;left:0;height:100%;width:300px",!0),e(w,"top:0;left:0;height:300px;width:100%",!1),A="R";break;case"R":e(w,"top:0;left:0;height:300px;width:100%",!0),e(w,"top:0;right:0;width:300px;height:100%",!1),A="B";break;default:alert("Unrecognized position")}}function g(){u.innerHTML=v.value,B()}function p(){var b=new Blob([v.value],{type:"text/plain;charset=UTF-8"});r=a.URL.createObjectURL(b,{oneTimeOnly:!0}),z.href=r,z.download="stylist_"+q()+".css",z[0].click(),a.URL.revokeObjectURL(r)}function q(){var a,b=new Date,c=b.getFullYear(),d=b.getMonth()+1,e=b.getDate(),f=b.getHours(),g=b.getMinutes(),g=b.getMinutes(),h=b.getSeconds(),i="_";return 10>d&&(d="0"+d),10>e&&(e="0"+e),10>f&&(f="0"+f),10>g&&(g="0"+g),10>h&&(h="0"+h),a=c+i+d+i+e+i+f+i+g+i+h}if(b.getElementById("stylist:panel"))return void alert("Stylist is already running - CTRL+M to open panel");var r,s=b.getElementsByTagName("head")[0],t=b.body,u=b.createElement("style"),v=b.createElement("textarea"),w=b.createElement("div"),x=b.createElement("h1"),y=b.createElement("ul"),z=b.createElement("a"),A="B";w.style.display="block",v.spellcheck=!1,v.id="stylist:input",w.id="stylist:panel",e(w,"position:fixed;top:0;right:0;width:300px;height:100%;z-index:2147483647;overflow:auto;outline:solid 1px #333;padding:10px 20px;borderTop:0;borderBottom:0;borderRight:0;borderLeft:1px solid #ccc;color:#222;background:#fcfcfc"),e(v,"font:13px Inconsolata, Consolas, Menlo, Monaco, Lucida Console, Courier New, Courier, monospace;width:100%;height:calc(100% - 140px);direction:ltr;textAlign:left;background:#fcfcfc"),e(z,"display:none;"),x.innerHTML="Stylist",e(x,"color:#555;background-color:#fcfcfc;width:150px;height:1.5em;margin:4px 0 4px 0;font-family:serif;font-size:20px;font-style:oblique"),e(y,"font:12px monospace;list-style:none;margin-left:-40px;margin-top:0px"),f(y,"CTRL+M: toggle this panel"),f(y,"CTRL+Y: change dock position"),f(y,"ALT+click: target element"),f(y,"CTRL+S: save CSS to file"),w.appendChild(x),w.appendChild(y),w.appendChild(v),w.appendChild(z),s.appendChild(u),t.appendChild(w),u.innerHTML=localStorage.siteStyle||"",v.value=u.innerHTML,v.placeholder="/* Enter your styles here. */",t.addEventListener("click",function(a){if(-1===v.style.display.indexOf("none")&&a.target.id!==v.id&&a.altKey){var b,c,d=0,e=a.target,f=e.className.split(" ")||"",g=[],h="",i="";for(i+=e.tagName.toLowerCase(),e.id&&(i+="#"+e.id),d=0;d<f.length;d++)n.test(f[d])||(i+="."+f[d]);if(e.getAttribute("style"))for(g=e.getAttribute("style").split(";"),d=0;d<g.length;d++)b=g[d].split(o).join(" ").trim(),n.test(b)||(h+=l+b.toLowerCase()+";\n");i&&(h=h?"{\n"+h+"}":"{\n\n}",c="\n"+i+" "+h,v.value+=c,v.focus(),v.setSelectionRange(v.value.length-c.length,v.value.length)),a.preventDefault()}});var B=d(function(){localStorage.siteStyle=u.innerHTML},500);v.addEventListener("keyup",g),v.addEventListener("change",g),v.addEventListener("keydown",function(a){var b=v.value,c=v.selectionStart;a.keyCode===h&&(v.value=b.substring(0,c)+l+b.substring(c),v.setSelectionRange(c+m,c+m),a.preventDefault())}),a.addEventListener("keydown",function(a){if(a.ctrlKey)switch(a.keyCode){case j:w.style.display="none"==w.style.display?"block":"none";break;case i:c();break;case k:try{p(),a.preventDefault()}catch(b){console.log(b),alert("Unable to save your file.")}}})}var h=9,i=89,j=77,k=83,l="    ",m=l.length,n=/^\s*$/,o=/\s+$/g;String.prototype.trim=function(){return this.replace(/(^\s+|\s+$)/g,"")},g()})(this,this.document);'>Run Stylist</a></p>
			<p>Once you have clicked the bookmarklet - the panel should open and you're good to go..</p>
			<h2>Rationale</h2>
			<p>I wasn't aware of any live CSS editors at the time. However upon finding them, they seem to live as extensions for those browsers. You'd need to download and install the extension on each browser. </p>
			<p>Styling on Internet Explorer is a pain and quite unfairly it does not have the extension ecosystem enjoyed in the other 'modern' browsers. This editor is to accommodate those developers that need to use IE and make their lives a little easier</p>
			<h2>Inspiration</h2>
			<p>This work has been inspired by <a href="http://githib.com/karthikv/my-style">githib.com/karthikv/my-style</a></p>
			<h2>Licence</h2>
			<p>MIT</p>
		</div>
		<a href="https://github.com/anami/stylist"><img style="position: absolute; top: 0; right: 0; border: 0;" src="https://camo.githubusercontent.com/365986a132ccd6a44c23a9169022c0b5c890c387/68747470733a2f2f73332e616d617a6f6e6177732e636f6d2f6769746875622f726962626f6e732f666f726b6d655f72696768745f7265645f6161303030302e706e67" alt="Fork me on GitHub" data-canonical-src="https://s3.amazonaws.com/github/ribbons/forkme_right_red_aa0000.png"></a>
	</body>
</html>
